# Cursor（AI 编辑器） 使用技巧与思路

* **视频链接**：https://www.douyin.com/video/7457151414150696219
* **视频文字信息**：https://zdvbcsw5ar.feishu.cn/wiki/Urh3wrL24iZoHNkEWlVc3Pt9nXf

## 一、概述 & 背景

* Cursor 是基于 VS Code 源码分支构建的 AI 编辑器，目标是深度集成 AI，提供比插件更完整的体验。文档强调：选择 fork 而非插件是为了能修改底层架构与 UI，达到无缝的 AI 开发体验。
* 发展与融资（文中原文）：

  * 2023 年（文中）：And Sphere 获得 800 万美元融资（表述原文有些混淆，保留原文数字）。
  * 2024 年（文中）：Cursor 完成 6000 万美元 A 轮融资，公司估值超过 4 亿美元（原文描述）。
* Cursor 为专业版软件，标准报价示例：每月 20 美金（文中观点：深度使用者建议付费）。

---

## 二、安装 & 汉化（入门配置）

* 官网下载安装包 → 双击安装 → 启动客户端。
* 初次打开可以选择熟悉的编辑器快捷键布局（VS Code、Vim、Sublime 等），默认为 VS Code。
* 全局 AI 回复语言可在设置中调整（示例：设为中文 → 后续 AI 都以中文回复）。
* 若本地已有 VS Code，可一键导入 VS Code 的配置与扩展（方便还原熟悉环境）。
* 汉化：通过扩展市场安装 Chinese 简体 插件，安装后重启以获取中文界面。
* 终端启动命令（可修改）：示例将默认 `code` 改为 `cursor`（避免与本地 VS Code 冲突）。

---

## 三、界面与项目概念

* Cursor 按项目（打开某个文件夹即视为一个项目）自动采集项目内代码，用于后续检索与生成。
* 可以导入个人常用扩展、主题、工具栏布局（作者演示了把工具栏改竖排等个性化设置）。

---

## 四、核心功能（详）

### 1) 光标预测与代码自动补全（Cursor Table）

* 最具代表性的功能：基于光标的预测补全机制，按 `Tab` 快速接受建议（文中反复强调“tab tab tab”工作流）。
* 功能强在速度与连贯性：能够连续预测下一个编辑点并自动完成多处修改。

### 2) 两种主要问答/交互模式：Chat（文中写作“chart”） 与 Composer（文中写作“composer / com mo sa”）

* **Chat（问答型）**：类似聊天框，单纯问答与分析，适合需求讨论、方案比较。
* **Composer（执行型）**：在聊天之上可直接修改/生成代码、创建文件、运行终端命令（即“发指令并执行”）。

  * Composer 下又分 `normal` 与 `agent` 模式：

    * **normal**：速度快，做普通的生成/写文件等。
    * **agent**：更高级，能检索代码库上下文、执行文件操作、运行命令，适合复杂任务（当前仅支持特定模型，如文中所述的 cloud 系列），但速度较慢。

### 3) 模型选择

* 内置约 20 个模型（可自定义添加）。
* 作者推荐（基于个人体验）：

  * `gbt 4o`：适合综合域问答、需求分析（用在 Chat/分析场景）。
  * `cloud 三点五`（cloud3.5）：更擅长代码生成（在 Composer 中使用）。
* 模型均有使用配额（超配额需换账号或改模型）；无限量的模型有但能力往往较弱。

### 4) 选区唤起与快捷使用

* 可选中代码块后用快捷键唤起 Chat/Composer，或在侧边栏打开上下文聊天（侧边栏有历史记录，推荐使用）。
* 常用快捷键示例（文中示例）：`Ctrl + .`，`Command + I`，`Command + K`（不同平台按键略有差异，按需确认）。

---

## 五、项目级知识管理与检索

### Docs（外部文档索引）

* 可在设置 → futures → docs 中添加在线文档链接（官方/自定义）。
* **若 URL 以斜杠 `/` 结尾**：会索引该页面及其所有子页面（即抓取整个文档站点）。
* 在聊天框输入 `@` + 选择 docs，AI 会把该文档内容作为上下文来回答（等同项目私有知识库）。

### @web（网络搜索）

* 在输入框使用 `@web`（或类似符号）可触发网络检索，把网络返回作为附加上下文（解决时效性 / 新技术问题）。

### @git（提交记录）

* 可把某次/多次 Git 提交作为上下文插入输入框，Cursor 会扫描相应提交内容并据此回答（用于对比提交差异、定位因某次提交引入的 bug 等）。

### Notepad（便签）

* 用途：临时笔记、记录项目上下文、保存 AI 对话记录与重要代码片段。
* 作用：作为 Chat 与 Composer 两种上下文不互通时的“桥梁” —— 在任一模式中可 `@notepad` 引入笔记内容，提供上下文互通。
* 注意：Notepad 存储在 Cursor 缓存，不保存在项目文件夹（换设备会丢失），建议定期归档到 docs 或项目文档。

---

## 六、Codebase 索引（@codebase / code base）

* Cursor 会扫描项目并把相关文件/代码块分割后上传服务器做 embedding（使用 OpenAI API 的嵌入），并存入矢量数据库用于检索。
* 使用 `@codebase` 时，系统会：

  1. 收集与指令相关的文件/代码块；
  2. 按相关性重新排序上下文；
  3. 基于上下文推理；
  4. 输出回答（基于最相关片段）。
* **隐私/安全**：索引会尊重 `.gitignore`；若想更细粒度控制，可在项目根目录创建 `.cursor`（或类似）文件声明忽略规则。建议把私钥、环境变量、日志等排除在索引之外。

---

## 七、哪些文件不应该被索引（建议）

* 日志文件、环境变量文件（含私钥）、构建产出文件（build/dist）、缓存文件、第三方配置文件等 —— 这些对理解/生成无用且可能泄露敏感信息，应忽略。建议创建 `.cursor` / 在 `.gitignore` 中声明。

---

## 八、Cursor Rules（项目级规则文件）

* 可在项目根目录创建项目级规则文件（文中称 `.cursor ruse / .cursor roos` 等，意即 “cursor rules”），用于：

  * 规定项目简介、架构、目录结构、代码规范、命名规范、样式规范、提交规范等。
  * 每次 AI 回答前参考这些规则（类似前置词 / 全局上下文）。
* 示例：在第一行写 `使用中文回复`，则该项目内 AI 将默认以中文回答。

---

## 九、如何避免 AI “乱改” & 提问技巧（四要点）

> 适用于 Chat 与 Composer（尤其 Composer 会直接修改代码）

1. **让 AI 先复述需求**

   * 发指令后要求 AI 先复述一遍需求，再继续执行。确认理解一致后再让其生成/修改代码。
   * 例如：基于 @为什么在官网中处理SEO ，请帮我实现 @需求：创建 SSR文摘列表页 ，请你描述一遍我的需求再进行答复，让我能够确认你真的理解了我的需求指令

2. **明确需求的辐射范围**

   * 把修改范围缩小、指明文件/文件夹/代码块，或者直接在输入框选择相应代码块。越有针对性越不会影响无关文件。
   * 例如：是的没错，你可以在 @lib 中写接口，在 @[locale] 中写 posts 页面，在 @components 中写组件，在 @messages 中添加国际化的语言数据，在 @types 中写类型文件，接下来，你可以帮我生成代码了

3. **需求拆解（细粒度）**

   * 把大任务拆成多个小任务，按序执行，或在一次请求中用有序/无序列表清晰描述每一步。

4. **把 AI 当“小孩子”来引导**

   * 逻辑要清晰、**示例/参考**写明；必要时把解决思路也一并发给 AI，引导其回答朝你期望的方向靠拢。

---

## 十、检测、预览、回滚机制（修改流程）

* **检测（Review）**：Composer 修改会列出每个被改的文件，用户可以单个 accept/reject，也可 `accept all` / `reject all`。查看修改差异后再决定。
* **预览**：文档提到有 `Save All`（先保存所有修改）然后运行项目预览效果，再决定是否正式应用。
* **回滚（Checkpoint / Restart）**：Cursor 会为每次问答建立 checkpoint，用户可在聊天记录中恢复到某次问答之前的代码版本（点击对应 checkpoint 的恢复按钮）。

#### ✦ 1. 清晰表达需求的重要性

* 高效使用 Cursor 的关键在于：**先理清需求，再生成实现。**
* 产品经理往往比程序员更善于表达需求、理解问题，因此更容易获得理想结果。
* 核心结论：**清晰、完整地描述需求，是让 AI 正确理解并输出的前提。**

---

#### ✦ 2. 正确的使用流程

##### （1）Chat 模式：明确需求与方案

* 如果你的需求还不清晰，不要急着生成代码。
* 应该先在 **Chat 模式**中：

  * 说明你想做什么、目标是什么；
  * 询问 AI 可行的技术方案；
  * 让 AI 对比各方案的优缺点；
  * 最后选择一个最合适的方向。

##### （2）Composer 模式：在明确框架内生成代码

* 在 Chat 模式沟通充分后，再进入 **Composer 模式**，
  让 AI 在确定的需求框架和技术方案内生成代码。

---

#### ✦ 3. 示例：如何让 Cursor 帮你做一个官网

* ❌ 错误方式：
  直接输入「我想做一个官网」，过于笼统。

* ✅ 正确方式：

  1. 说明官网的类型、功能和目标受众；
  2. 询问主流建站方案（如 React、Next.js、WordPress 等）及优缺点；
  3. 探讨如何选择方案与部署上线流程；
  4. 方案确定后，再请 Cursor 在 Composer 模式中生成代码。

---

#### ✦ 4. 使用原则总结

* 不懂的地方 → 先去 **Chat 模式**问清楚；
* 理解之后 → 再去 **Composer 模式**执行生成；
* 避免在 Composer 模式中反复试错，浪费时间。

---

#### ✦ 5. 复杂项目的高效管理方法

##### （1）拆分与记录

* 将项目拆解为多个功能模块（Feature）；
* 每个模块单独记录在一个 **Notepad** 中，便于追踪与管理。

##### （2）执行与反馈

* 在输入框中选择对应的 Notepad，执行功能生成；
* 若结果有问题：

  * 新建一个 Notepad 记录问题；
  * 在 Chat 模式中选中该 Notepad 与 AI 讨论解决方案；
  * 更新 Notepad 后，再回到 Composer 模式生成。

##### （3）优点

* 虽然步骤稍多，但能极大提升项目的**清晰度与可控性**。

---

#### ✦ 6. 程序员的应用场景

* Cursor 同样适用于已有项目，可辅助：

  * 后续功能开发；
  * 修复 Bug；
  * 优化代码结构与功能扩展。

---

#### ✦ 7. 一句话总结

> **正确使用 Cursor 的方法是：先在 Chat 模式理清需求，再在 Composer 模式生成实现。先理解，后执行。**

---

## 十一、项目级最佳实践（作者给的流程）

1. 在新项目打开后，让 AI 检索整个项目并生成一个 `.cursorignore`  文件（用于写入忽略规则等）。
2. 在 settings → futures → codebase indexing 里执行 `Resvnc Index` / 重新索引（确保采集完整）。
3. 把项目相关的在线文档（接口、需求、技术文档）全部添加到 `Docs` 以备检索。
4. 在项目根创建 `.cursorrules` 文件，写清回复语言、编码规范等前置规则。
5. 遇新需求 → 先在 Chat 模式讨论确认方案 → 将拆解好的需求写入 Notepad → 在 Composer 中 `@notepad` 逐项生成并验证。

---

## 十二、常见功能补充（零碎但重要）

* 在输入框输入 `@` 后有丰富交互菜单：引入文件、文件夹、docs、notepad、git 提交、web 等。
* 选中 commit 可以让 AI 对比不同提交并指出差异 / 找 bug 的线索。
* Commit message 自动生成：针对已暂存文件可一键生成符合你历史风格的 commit message（AI 学习历史提交风格）。

---

## 十三、白嫖 / 免费策略 与 风险提示（原文描述）

* **免费试用机制**：邮箱注册可得 14 天免费试用。文中记录了两种常见“续试用”做法（为信息记录，不作为推荐）：

  1. **临时邮箱（一次性邮箱）**：用于收验证码，短期使用。
  2. **无限邮箱（子地址/别名）**：注册主邮箱后通过不同子地址接收邮件（作者以 `2925` 服务举例）。
* **设备指纹检测**：Cursor 针对频繁在同一台设备上用不同免费账号的行为做了指纹检测限制。文中提到作者自己生成并发布了脚本 / 可执行文件来修改 Cursor 配置中的指纹参数以规避检测（并上传到 GitHub，演示了 macOS/Linux/Windows 的 sh/ps1/node 可执行方式）。
* **合规与道德提示（必须注意）**：文中虽描述了“绕过指纹”的方法，但出于合规、服务条款与道德考虑，应优先选择付费支持好产品或联系官方申请更多额度。不要在生产或违规场景滥用绕过技术。（我在此提醒：该部分仅做摘要记录，不会提供任何脚本或具体操作步骤。）

---

## 十四、作者的总体使用思路（总结性建议）

* 不要直接让 Composer 做大而模糊的改动：先在 Chat 中把需求聊透、把方案选定，再用 Composer 逐步执行。
* 善用 Notepad 作为需求/功能/Bug 的记录与拆解工具（便于复用与归档）。
* 对于复杂项目：先建立 docs + cursor rules + reindex，再开始由小到大的自动化生成流程。
* 把“与 AI 的沟通能力”视为新的核心技能：清晰拆解、逐级校验与架构审视很重要（产品经理通常在这方面表现更好）。

---

## 十五、速查清单（便于复制粘贴）

```
1. 安装 -> 导入 VS Code 配置 -> 汉化（Chinese 插件） -> 选语言（中文）
2. 打开项目 -> 生成 cursor root 文件（.cursor） -> settings -> futures -> re-scan codebase
3. 添加 docs（接口/需求/技术文档），必要时 URL 加 '/' 以索引子页面
4. 在项目根写 cursor rules（例如：首行写“使用中文回复”等）
5. 使用 Chat 讨论需求 -> Notepad 记录 -> Composer (normal/agent) 执行（先复述、缩小范围、分解任务）
6. 修改后 Save All + 运行预览 -> accept/reject（逐文件或全部） -> 如需回滚，使用 checkpoint 恢复
7. 注意：把私钥、env、日志等加入 .gitignore / .cursor 忽略列表，避免索引敏感数据
8. 若需要长期使用，建议付费；白嫖/绕过方法有风险并可能违反服务条款
```

（以上为便捷流程，供复制使用。）

---

## 结语 / 我还可以为你做的事

* 如果你需要，我可以把上面笔记格式化成你偏好的输出格式：**纯 Markdown**（便于发公众号/保存），**One-page README**，或 **PPT 提纲**（可直接做成幻灯片结构）。
* 或者我可以把“速查清单”转换为一个更短的操作手册（便于新手上手）。你想要哪种格式我就直接输出（无需你再重复文档内容）。

需要我把上面的笔记转换成 **纯 Markdown（完整）**、**一页流程图（文本）**，还是 **PPT 提纲**？直接告诉我你要的格式，我会马上把它输出成可复制的文件/文本。
